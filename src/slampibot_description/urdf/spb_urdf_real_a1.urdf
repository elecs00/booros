<?xml version="1.0"?>
<robot name="spb_real_a1">

    <!-- Base Link -->
    <link name="base_link">
        <visual>
            <geometry>
                <box size="0.3 0.3 0.1"/>
            </geometry>
            <material name="Blue">
                <color rgba="0 0 1 1"/>
            </material>
        </visual>
        <collision>
            <geometry>
                <box size="0.3 0.3 0.1"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
        </inertial>
    </link>

    <!-- RPLidar A1 Physical Properties -->
    <property name="lidar_a1_diameter" value="0.115"/>  <!-- 115mm diameter -->
    <property name="lidar_a1_height" value="0.04"/>     <!-- 40mm height -->
    <property name="lidar_a1_mass" value="0.19"/>       <!-- 190g weight -->
    <property name="lidar_a1_radius" value="0.0575"/>
    
    <!-- Lidar mounting position -->
    <property name="lidar_mount_height" value="0.1"/>   <!-- Mounting height from base -->
    
    <!-- Joint for A1 Lidar -->
    <joint name="lidar_a1_joint" type="fixed">
        <parent link="base_link"/>
        <child link="lidar_a1_link"/>
        <origin xyz="0 0 0.12" rpy="0 0 0"/>
    </joint>

    <!-- A1 Lidar Link -->
    <link name="lidar_a1_link">
        <!-- Main body visual -->
        <visual>
            <geometry>
                <cylinder radius="0.0575" length="0.04"/>
            </geometry>
            <material name="Black">
                <color rgba="0.1 0.1 0.1 1.0"/>
            </material>
        </visual>
        
        <!-- Top cover visual -->
        <visual>
            <origin xyz="0 0 0.021"/>
            <geometry>
                <cylinder radius="0.0575" length="0.002"/>
            </geometry>
            <material name="DarkGray">
                <color rgba="0.3 0.3 0.3 1.0"/>
            </material>
        </visual>
        
        <!-- Collision geometry -->
        <collision>
            <geometry>
                <cylinder radius="0.0575" length="0.04"/>
            </geometry>
        </collision>
        
        <!-- Inertial properties -->
        <inertial>
            <mass value="0.19"/>
            <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
        </inertial>
    </link>

    <!-- Laser frame for sensor data -->
    <link name="laser"/>
    
    <joint name="laser_joint" type="fixed">
        <parent link="lidar_a1_link"/>
        <child link="laser"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint>

</robot> 